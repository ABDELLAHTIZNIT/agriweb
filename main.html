<!-- Suivi irrigation -->
<section id="page-irrigation" class="card hidden">
  <h2>Suivi irrigation</h2>
  <p class="muted">
    اختر Ferme / Secteur / Parcelle / Point ثم استعمل زر <b>Irrigation</b> لعرض جدول القياسات.
  </p>

  <div class="stack">

    <div>
      <label class="label">Ferme</label>
      <select id="sv-ferme" class="input" onchange="svOnFermeChange()">
        <option value="">-- اختر Ferme --</option>
      </select>
    </div>

    <div>
      <label class="label">Secteur</label>
      <select id="sv-secteur" class="input" onchange="svOnSecteurChange()">
        <option value="">-- اختر Secteur --</option>
      </select>
    </div>

    <div>
      <label class="label">Parcelle</label>
      <select id="sv-parcelle" class="input" onchange="svOnParcelleChange()">
        <option value="">-- اختر Parcelle --</option>
      </select>
    </div>

    <div>
      <label class="label">Point</label>
      <select id="sv-point" class="input">
        <option value="">-- اختر Point --</option>
      </select>
    </div>

    <div class="row" style="margin-top:8px;flex-wrap:wrap;gap:8px">
      <button class="btn" onclick="svOpenTable()">Irrigation</button>
      <button class="btn" onclick="svOpenAdd()">Ajouter</button>
      <button class="btn" onclick="svShare()">Partager</button>
      <button class="btn" onclick="svExportExcel()">Exporter Excel</button>
      <button class="btn" onclick="svExportPDF()">Exporter PDF</button>
    </div>
  </div>
</section>

<!-- Modal: Ajouter mesure -->
<div id="sv-add-modal" class="modal-wrap">
  <div class="modal-bg" onclick="svCloseAdd()"></div>
  <div class="modal">
    <h3>Ajouter une mesure d'irrigation</h3>
    <p class="small">التحديد الحالي سيتم حفظه مع هذه القياسات.</p>
    <div class="grid">
      <div>
        <label class="label">Tours / Heures</label>
        <input id="sv-tours" class="input" type="text" placeholder="Ex: 3 tours ou 6h">
      </div>
      <div>
        <label class="label">Durée (min)</label>
        <input id="sv-duree" class="input" type="number" min="0" placeholder="Ex: 45">
      </div>
      <div>
        <label class="label">Temps repos</label>
        <input id="sv-repos" class="input" type="text" placeholder="Ex: 15 min">
      </div>
      <div>
        <label class="label">V apport</label>
        <input id="sv-vapport" class="input" type="text">
      </div>
      <div>
        <label class="label">EC apport</label>
        <input id="sv-ecapport" class="input" type="text">
      </div>
      <div>
        <label class="label">pH apport</label>
        <input id="sv-phapport" class="input" type="text">
      </div>
      <div>
        <label class="label">V drainage</label>
        <input id="sv-vdrain" class="input" type="text">
      </div>
      <div>
        <label class="label">EC drainage</label>
        <input id="sv-ecdrain" class="input" type="text">
      </div>
      <div>
        <label class="label">pH drainage</label>
        <input id="sv-phdrain" class="input" type="text">
      </div>
      <div>
        <label class="label">% drainage</label>
        <input id="sv-pctdrain" class="input" type="text">
      </div>
    </div>

    <div class="right" style="margin-top:10px">
      <button class="btn danger" onclick="svCloseAdd()">✕</button>
      <button class="btn" onclick="svSaveAdd()">✓ Enregistrer</button>
    </div>
  </div>
</div>

<!-- Modal: Tableau irrigation -->
<div id="sv-table-modal" class="modal-wrap">
  <div class="modal-bg" onclick="svCloseTable()"></div>
  <div class="modal" style="max-width:980px">
    <div class="row" style="justify-content:space-between;align-items:center;margin-bottom:6px">
      <div>
        <h3 style="margin:0">Irrigation - Tableau</h3>
        <div id="sv-table-title" class="small muted"></div>
      </div>
      <div class="row" style="gap:6px">
        <button class="btn" onclick="svExportExcel()">Excel</button>
        <button class="btn" onclick="svExportPDF()">PDF / Imprimer</button>
        <button class="btn danger" onclick="svCloseTable()">✕</button>
      </div>
    </div>
    <div class="muted small">اضغط على أي سطر للتعديل أو الحذف.</div>
    <div style="overflow-x:auto;margin-top:6px">
      <table id="sv-table" style="width:100%;border-collapse:collapse;font-size:12px">
        <thead>
          <tr>
            <th>#</th>
            <th>Point</th>
            <th>Tours / Heures</th>
            <th>Durée (min)</th>
            <th>Temps repos</th>
            <th>V apport</th>
            <th>EC apport</th>
            <th>pH apport</th>
            <th>V drainage</th>
            <th>EC drainage</th>
            <th>pH drainage</th>
            <th>% drainage</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>
</div>
