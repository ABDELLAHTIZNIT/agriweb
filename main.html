<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AB AGRIWEB</title>
<link rel="stylesheet" href="assets/css/base.css">
<style>
body {
  margin:0;
  font-family: system-ui, sans-serif;
  background:#0f172a;
  color:#e2e8f0;
}
header {
  display:flex;
  align-items:center;
  justify-content:space-between;
  background:#1e293b;
  padding:10px 14px;
  border-bottom:1px solid #334155;
  position:relative;
}
header h1 {
  margin:0;
  font-size:1.1rem;
  color:#22c55e;
}
.menu-btn {
  background:none;
  border:none;
  color:#e2e8f0;
  font-size:1.6rem;
  cursor:pointer;
}
.sidebar {
  position:fixed;
  left:-260px;
  top:0;
  width:250px;
  height:100%;
  background:#0b1220;
  border-right:1px solid #1e293b;
  transition:left 0.3s ease;
  padding:10px;
  overflow-y:auto;
}
.sidebar.open { left:0; }
.sidebar h2 {
  font-size:1rem;
  color:#22c55e;
  border-bottom:1px solid #1e293b;
  padding-bottom:6px;
  margin:10px 0;
}
.sidebar a {
  display:block;
  color:#cbd5e1;
  text-decoration:none;
  padding:8px 6px;
  border-radius:8px;
}
.sidebar a:hover {
  background:#1e293b;
  color:#fff;
}
.card {
  padding:20px;
}
button.btn {
  background:#22c55e;
  color:#0b1220;
  border:none;
  border-radius:8px;
  padding:10px 14px;
  cursor:pointer;
}
button.btn:hover { background:#16a34a; }
button.danger { background:#ef4444; color:#fff; }
.hidden { display:none; }

.accordion { border:1px solid #1e293b; border-radius:8px; margin:10px 0; }
.acc-hd {
  background:#1e293b;
  color:#e2e8f0;
  padding:10px;
  border:none;
  text-align:left;
  width:100%;
  font-weight:bold;
  cursor:pointer;
}
.acc-bd { display:none; padding:10px; background:#0f172a; }
.accordion.open .acc-bd { display:block; }

.input {
  width:100%;
  padding:8px;
  background:#0b1220;
  border:1px solid #1e293b;
  color:#e2e8f0;
  border-radius:6px;
  margin-bottom:8px;
}
.label { font-weight:bold; display:block; margin-bottom:4px; }
.row { display:flex; gap:8px; flex-wrap:wrap; }
.grid { display:grid; grid-template-columns:1fr 1fr; gap:10px; }
.muted { font-size:0.85rem; opacity:0.8; }
</style>
</head>
<body>

<header>
  <button class="menu-btn" id="menuBtn">â˜°</button>
  <h1 id="appTitleTop">AB AGRIWEB</h1>
  <img id="appBadgeImg" src="" alt="" style="height:26px;object-fit:contain;" class="hidden">
</header>

<aside class="sidebar" id="sidebar">
  <h2>Navigation</h2>
  <a href="#" onclick="showPage('accueil')">ğŸ  Accueil</a>
  <a href="#" onclick="showPage('irrig')">ğŸ’§ Irrigation</a>
  <a href="#" onclick="showPage('traitement')">ğŸ§ª Traitement</a>
  <a href="#" onclick="showPage('param')">âš™ï¸ ParamÃ¨tres</a>
  <a href="#" onclick="logout()">ğŸšª DÃ©connecter</a>

  <div id="sidebarBrand" class="hidden" style="margin-top:12px;">
    <img id="sidebarBrandImg" src="" alt="" style="width:100%;border-radius:6px;">
  </div>
</aside>

<main style="margin-top:10px; padding:20px;">
  <section id="page-accueil" class="card">Bienvenue dans AB AGRIWEB ğŸ‘‹</section>

  <section id="page-param" class="card hidden">
    <h2>ParamÃ¨tres</h2>
    <div class="grid">
      <button class="btn" onclick="showPage('page-operators')">OpÃ©rateur</button>
      <button class="btn" onclick="showPage('page-profiles')">Profil</button>
      <button class="btn" onclick="showPage('page-refs')">RÃ©fÃ©rentiels</button>
      <button class="btn" onclick="showPage('page-rights')">Droits accÃ¨s</button>
      <button class="btn" onclick="showPage('page-pass')">Mot de passe</button>
      <button class="btn" onclick="showPage('page-appcfg')">RÃ©glages de lâ€™application</button>
    </div>
  </section>

  <!-- Ø¨Ø§Ù‚ÙŠ Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ø£Ø®Ø±Ù‰ Ù…Ù…ÙƒÙ† ØªÙƒÙ…Ù‘Ù„Ù‡Ø§ Ù‡Ù†Ø§ -->

  <!-- ====================================== -->
  <!-- RÃ‰GLAGES DE Lâ€™APPLICATION (BRANDING) -->
  <!-- ====================================== -->

  <section id="page-appcfg" class="card hidden">
    <h2>RÃ©glages de lâ€™application</h2>
    <p class="muted">ÙƒÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ø¬Ù…Ù‘Ø¹Ø© Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹.</p>

    <!-- 1) GÃ©nÃ©ral -->
    <div class="accordion acc open" id="acc-general">
      <button class="acc-hd" onclick="toggleAcc('acc-general')">1) GÃ©nÃ©ral <span>Nom/Logo de lâ€™app</span></button>
      <div class="acc-bd">
        <label class="label">Titre de lâ€™application</label>
        <input id="cfg-app-title" class="input" placeholder="Nom de lâ€™app (laisser vide Ù„Ø¥Ø®ÙØ§Ø¡)">
        <label><input id="cfg-title-hide" type="checkbox"> Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù†ØµÙŠ</label>
        <div class="muted">ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù†Øµ Ø¥Ø°Ø§ Ù„Ø¯ÙŠÙƒ Logo.</div>
      </div>
    </div>

    <!-- 5) Branding -->
    <div class="accordion acc" id="acc-brand">
      <button class="acc-hd" onclick="toggleAcc('acc-brand')">2) Branding <span>Logo, Badge, Sidebar, Login</span></button>
      <div class="acc-bd">
        <div class="grid">
          <div>
            <label class="label">Logo de lâ€™application</label>
            <input id="cfg-logo-url" class="input" placeholder="URL (png/gif)">
            <input id="cfg-logo-file" type="file" accept="image/png,image/gif" class="input">
            <button class="btn danger img-clear" data-key="logo">Supprimer logo</button>
          </div>
          <div>
            <label class="label">Badge header</label>
            <input id="cfg-badge-url" class="input" placeholder="URL (png/gif)">
            <input id="cfg-badge-file" type="file" accept="image/png,image/gif" class="input">
            <button class="btn danger img-clear" data-key="badge">Supprimer badge</button>
          </div>
          <div>
            <label class="label">Sidebar banner</label>
            <input id="cfg-side-url" class="input" placeholder="URL (png/gif)">
            <input id="cfg-side-file" type="file" accept="image/png,image/gif" class="input">
            <button class="btn danger img-clear" data-key="sidebar">Supprimer sidebar</button>
          </div>
          <div>
            <label class="label">Login banner</label>
            <input id="cfg-login-url" class="input" placeholder="URL (png/gif)">
            <input id="cfg-login-file" type="file" accept="image/png,image/gif" class="input">
            <button class="btn danger img-clear" data-key="login">Supprimer login banner</button>
          </div>
          <div>
            <label class="label">Login background</label>
            <input id="cfg-loginbg-url" class="input" placeholder="URL (png/gif)">
            <input id="cfg-loginbg-file" type="file" accept="image/png,image/gif" class="input">
            <button class="btn danger img-clear" data-key="loginBg">Supprimer background</button>
          </div>
        </div>
      </div>
    </div>

    <div class="row" style="margin-top:14px">
      <button id="appcfgSaveBtn" class="btn">Enregistrer</button>
      <button id="appcfgResetBtn" class="btn danger">Reset</button>
    </div>
  </section>
</main>

<script src="assets/js/ui/sidebar.js"></script>
<script src="assets/js/pages/appcfg.js"></script>
<script>
const sidebar=document.getElementById('sidebar');
document.getElementById('menuBtn').onclick=()=>sidebar.classList.toggle('open');

function showPage(id){
  document.querySelectorAll('main > section').forEach(s=>s.classList.add('hidden'));
  const page=document.getElementById(id);
  if(page) page.classList.remove('hidden');
  sidebar.classList.remove('open');
}
function logout(){ alert('DÃ©connectÃ©. (Simulation)'); }
function toggleAcc(id){
  const el=document.getElementById(id);
  if(el) el.classList.toggle('open');
}
</script>
</body>
</html>
