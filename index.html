<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AB AGRIWEB - Connexion</title>

  <!-- CSS -->
  <link rel="stylesheet" href="assets/css/base.css">
  <link rel="stylesheet" href="assets/css/login.css">
</head>
<body>

  <div class="login-page" id="loginPage">
    <div class="login-card">
      <!-- Ø´Ø¹Ø§Ø± Ø£Ùˆ ØµÙˆØ±Ø© -->
      <div id="loginLogoWrap" class="banner hidden">
        <img id="loginLogoImg" alt="Logo" style="max-width:150px;">
      </div>

      <!-- Ø¹Ù†ÙˆØ§Ù† -->
      <h1>AB AGRIWEB</h1>

      <!-- Ù†Ù…ÙˆØ°Ø¬ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
      <form id="loginForm">
        <input id="u" class="login-input" placeholder="Nom d'utilisateur">
        <div class="field">
          <input id="p" type="password" class="login-input" placeholder="Mot de passe">
          <span class="eye" onclick="this.previousElementSibling.type=this.previousElementSibling.type==='password'?'text':'password'">ğŸ‘ï¸</span>
        </div>

        <button class="login-btn" id="loginBtn">Se connecter</button>
        <button class="btn secondary" id="setupBtn">Mode setup (sans mot de passe)</button>
        <a href="#" id="forgotLink">Mot de passe oubliÃ© ?</a>
      </form>
    </div>
  </div>

  <!-- JS -->
  <script type="module" src="assets/js/index.js"></script>
<!-- Rattacher les images automatiquement -->
<script type="module">
  import Images from "./assets/js/core/images.js";

  // ØªÙØ¹ÙŠÙ„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ± ÙÙŠ localStorage Ø¥Ø°Ø§ Ù…Ø§ÙƒØ§Ù†ÙˆØ´
  Images.init();

  // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØµÙˆØ± Ø¹Ù„Ù‰ ÙˆØ§Ø¬Ù‡Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
  const logoEl = document.getElementById("loginLogoImg");
  const logoWrap = document.getElementById("loginLogoWrap");
  const bgEl = document.getElementById("loginPage");

  if (logoEl && logoWrap && Images.logo) {
    logoEl.src = Images.logo;
    logoWrap.classList.remove("hidden");
  }

  if (bgEl && Images.loginBg) {
    bgEl.style.backgroundImage = `url('${Images.loginBg}')`;
  }

  console.log("ğŸ¨ Images appliquÃ©es avec succÃ¨s !");
</script>

</body>
</html>
